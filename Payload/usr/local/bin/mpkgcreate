#!/bin/bash
if [[ -z "$1" ]]; then
	$LIBRARY/binary/mpkgcreate-manual
	exit
elif [[ -z "$2" ]]; then
	$LIBRARY/binary/mpkgcreate-manual
	exit
fi
echo "Building directories..."
PTH=""
if [[ "$1" == *"/" ]]; then
	mkdir "$1""$2"
	PTH="$1""$2"
elif [[ $2 == "/"* ]]; then
	mkdir "$1""$2"
	PTH="$1""$2"
else
	mkdir "$1"/"$2"
	PTH="$1"/"$2"
fi
mkdir $PTH/"Info"
mkdir $PTH/"Payload"
mkdir $PTH/"userPayload"
touch $PTH/Info/pkgname
touch $PTH/Info/pkgid
touch $PTH/Info/depends
touch $PTH/Info/changelog
touch $PTH/Info/os-architecture
touch $PTH/Info/version
touch $PTH/Info/compatibility.sh
touch $PTH/Info/preinst.sh
touch $PTH/Info/postinst.sh
touch $PTH/Info/prerm.sh
touch $PTH/Info/postrm.sh
echo $2 > $PTH/Info/pkgname
echo $2 > $PTH/Info/pkgid
echo "#\!/bin/bash" > $PTH/Info/compatibility.sh
echo "#\!/bin/bash" > $PTH/Info/preinst.sh
echo "#\!/bin/bash" > $PTH/Info/postinst.sh
echo "#\!/bin/bash" > $PTH/Info/prerm.sh
echo "#\!/bin/bash" > $PTH/Info/postrm.sh
chmod +x $PTH/Info/*.sh
echo "Created "$PTH" workspace."